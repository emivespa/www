# create-x-app

Stuff the docs don't tell you.

![instructions said to test run in a barrel before installing on a boat](https://media.discordapp.net/attachments/864919812291428372/1105677587516239983/FB_IMG_16836844138238854.jpg)

## Tailwind

### start with the default install

This assumes you've performed a default install,
either by using something like `create-next-app`
installing it as per [the docs][tdi].

[tdi]: https://tailwindcss.com/docs/installation

### auto class sorting is a must

Class sorting bugs are practically invisible
To prevent them you need to set up automatic class sorting.
More info on [the Tailwind blog post][tba] and [Theo's video][yQ].

[yQ]: https://youtu.be/QBajvZaWLXs?t=250
[tba]: https://tailwindcss.com/blog/automatic-class-sorting-with-prettier

You'll have to install `prettier` first
(if you have `eslint` set up, that means [`eslint-config-prettier`][gpe]).
Then the `prettier-plugin-tailwindcss` plugin as per its [README][gtp].

[gpe]: https://github.com/prettier/eslint-config-prettier#installation
[gtp]: https://github.com/tailwindlabs/prettier-plugin-tailwindcss

## scripts

Use ["bash strict mode"][rau],
in `bash` that's `set -euo pipefail` at the top of your script.
in `sh` there's no `-o pipefail` but you can use `#!/bin/sh -eu`.

[rau]: http://redsymbol.net/articles/unofficial-bash-strict-mode/

That blog post is OK,
but it does not tell you how to get around `-e` and `-u`.
And it's not so rare that you have to.

`-e`: if a command is fail-safe,
you can let it fail by catching it within an "if" or OR-ing it with `true`
(a command/builtin that does nothing except succeed).

```
if might_fail; then
fi
might_fail_as_well || true
```

`-u`: use parameter expansion.

```
echo "${if_this_variable_doesnt_exist:-'print this instead'}"
```

## make

### .env

Use this snippet
([source][r202])
to create make variables out of `.env` values:

[r202]: https://www.robg3d.com/2020/05/2288/

```
ifneq (,$(wildcard ./.env))
	include .env
	export
endif

.PHONY: ping
ping:
	ping $(HOST)
```
